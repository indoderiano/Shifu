(this["webpackJsonpe-trainer-indo"]=this["webpackJsonpe-trainer-indo"]||[]).push([[0],{217:function(e,t,a){e.exports=a(374)},222:function(e,t,a){},223:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},224:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(43),o=a.n(r),i=(a(222),a(138),a(20)),l=(a(223),a(224),a(52)),c=a(32),u=a(45),m=a(27),d=a(28),p=a(29),h=a(30),g=a(399),f=a(383),E=a(396),v=a(395),b=a(384),y=a(77),S=a(385),w=a(390),x=a(375),O=a(17),j=a(16),k=a(14),U=a.n(k),C="https://shifu-indo.herokuapp.com",A=function(e,t){if("user"===e);else{if("trainer"!==e)return{type:"RELOAD_FAIL"}}return function(a){"user"===e?U.a.get("".concat(C,"/schedules/card?userid=").concat(t,"&status=requested&status=onschedule&status=onprogress&status=finish")).then((function(e){e.data.forEach((function(e,t){})),a({type:"RELOAD",payload:e.data})})).catch((function(e){console.log(e)})):"trainer"===e&&U.a.get("".concat(C,"/schedules/card?trainerid=").concat(t,"&status=approved&status=onschedule&status=onprogress")).then((function(e){e.data.reverse(),a({type:"RELOAD",payload:e.data})})).catch((function(e){console.log(e)}))}},N=function(e){return function(t){U.a.get("".concat(C,"/schedules/card?trainerid=").concat(e,"&status=requested")).then((function(e){e.data.reverse(),t({type:"REQUEST",payload:e.data})})).catch((function(e){console.log(e)}))}},R=function(){return function(e){U.a.get("".concat(C,"/schedules/card/?status=finish&status=complete&status=cancelled")).then((function(t){console.log(t.data),t.data.reverse();var a=t.data.length;e({type:"TOVERIFY",payload:{data:t.data,count:a}})})).catch((function(e){console.log(e)}))}},q=function(e,t){return function(a){a({type:"LOADING"}),""===e?a({type:"LOGIN_FAIL",payload:"Username belum diisi"}):""===t?a({type:"LOGIN_FAIL",payload:"Password belum diisi"}):U.a.get("".concat(C,"/users/login/").concat(e,"/").concat(t)).then((function(e){if(e.data.status){var t=e.data.user,n=t.id,s=t.username,r=t.email,o=t.role,i=t.isverified,l=t.token;a({type:"LOGIN_SUCCESS",payload:{id:n,username:s,email:r,role:o,isverified:i}}),localStorage.setItem("e-trainer_token",l),"user"===o?a(A(o,n)):"trainer"===o?(a(A(o,n)),a(N(n))):"admin"===o&&a(R())}else a({type:"LOGIN_FAIL",payload:e.data.message})})).catch((function(e){console.log(e)}))}},I=function(e,t,a,n,s,r){return console.log("action keeplogin"),localStorage.setItem("e-trainer_token",r),{type:"LOGIN_SUCCESS",payload:{id:e,username:t,email:a,role:n,isverified:s}}},T=function(){return localStorage.removeItem("e-trainer_token"),{type:"LOGOUT"}},z=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={login:!1,input:{username:"",password:""}},e.handleClick=function(t){e.setState(Object(u.a)({},t.target.name,!0))},e.handleInput=function(t){e.setState({input:Object(c.a)({},e.state.input,Object(u.a)({},t.target.name,t.target.value))})},e.handleKey=function(t){"Enter"===t.key&&e.props.Login(e.state.input.username,e.state.input.password)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(g.a,null,s.a.createElement(f.a,{once:!1},s.a.createElement(E.a,{inverted:!0,textAlign:"center",style:{minHeight:"",padding:"1em 0em"},vertical:!0},s.a.createElement(v.a,{fixed:null,inverted:!0,pointing:!0,secondary:!0,size:"large"},s.a.createElement(b.a,null,s.a.createElement(v.a.Item,{as:O.b,to:"/",active:!1},"Home"),"user"===this.props.User.role?s.a.createElement(v.a.Item,{as:O.b,to:"/sessions"},"Sessions"):null,"admin"===this.props.User.role?s.a.createElement(v.a.Item,{style:{marginRight:"5px"},as:O.b,to:"/manage"},"Manage sessions",this.props.Schedules.count?s.a.createElement(y.a,{className:"bg-sign",style:{position:"absolute",top:"21px",right:"5px",transform:"translate(50%,-50%) scale(.9)",padding:"2px",fontSize:"12px"},circular:!0},this.props.Schedules.count):null):null,"admin"===this.props.User.role?s.a.createElement(v.a.Item,{as:O.b,to:"/manageall"},"Manage all"):null,"trainer"===this.props.User.role?s.a.createElement(v.a.Item,{style:{marginRight:"5px"},as:O.b,to:"/requests"},"Requests",this.props.Schedules.countrequest?s.a.createElement(y.a,{className:"bg-sign",style:{position:"absolute",top:"21px",right:"5px",transform:"translate(50%,-50%) scale(.9)",padding:"2px",fontSize:"12px"},circular:!0},this.props.Schedules.countrequest):null):null,"user"===this.props.User.role||"trainer"===this.props.User.role?s.a.createElement(v.a.Item,{style:{marginRight:"5px"},as:O.b,to:"/schedules"},"Schedules",this.props.Schedules.count?s.a.createElement(y.a,{className:"bg-sign",style:{position:"absolute",top:"21px",right:"5px",transform:"translate(50%,-50%) scale(.9)",padding:"2px",fontSize:"12px"},circular:!0},this.props.Schedules.count):null):null,"user"===this.props.User.role||"trainer"===this.props.User.role?s.a.createElement(v.a.Item,{as:O.b,to:"/history"},"History"):null,s.a.createElement(v.a.Item,{style:{padding:"0em"},position:"right"},this.props.User.isLogin?null:this.state.login?s.a.createElement("div",{style:{paddingRight:"17px"}},s.a.createElement("span",{style:{marginRight:".5em"}},"Username"),s.a.createElement(S.a,{name:"username",onChange:this.handleInput,value:this.state.input.username,style:{display:"inline"},size:"mini",icon:"user",placeholder:"username..."})):null,this.props.User.isLogin?null:this.state.login?s.a.createElement("div",{style:{paddingRight:"17px",position:"relative"}},s.a.createElement("span",{style:{marginRight:".5em"}},"Password"),s.a.createElement(S.a,{name:"password",onChange:this.handleInput,value:this.state.input.password,size:"mini",icon:"lock",placeholder:"password...",type:"password",onKeyPress:this.handleKey}),this.props.User.message?s.a.createElement(y.a,{style:{position:"absolute",top:"100%",left:"59%",transform:"translate(-50%,0)",color:"red",fontWeight:"100",whiteSpace:"nowrap"},pointing:!0,basic:!0,color:"red"},this.props.User.message):null):null,this.props.User.isLogin?s.a.createElement(w.a,{className:"simple",icon:s.a.createElement("img",{alt:this.props.User.role,style:{float:"left",verticalAlign:"-16px",borderRadius:"20px",marginRight:"5px",width:"27px",height:"auto",transform:"translate(0,15%)"},src:"https://react.semantic-ui.com/images/avatar/small/joe.jpg"}),text:"Good Day, "+this.props.User.username,style:{lineHeight:"38px"}},s.a.createElement(w.a.Menu,{style:{marginTop:"0px"}},s.a.createElement(w.a.Item,{as:O.b,to:"/settings",className:"bg-white-hvr color-sign-dark"},"Change Password"),s.a.createElement(w.a.Item,{className:"bg-white-hvr",as:"a",onClick:function(){e.props.Logout(),e.setState({input:{username:"",password:""},login:!1})}},"Sign Out"))):this.state.login?null:s.a.createElement(x.a,{name:"login",onClick:this.handleClick,style:{margin:"auto"},as:"a",inverted:!0},"Log in"),this.props.User.isLogin?s.a.createElement(x.a,{as:"a",inverted:!0,primary:!1,style:{margin:"auto 0 0 1em",display:"none"},onClick:function(){e.props.Logout(),e.setState({input:{username:"",password:""},login:!1})}},"Sign Out"):s.a.createElement(x.a,{as:O.b,to:"/register",inverted:!0,primary:!1,style:{margin:"auto 0 0 0.5em"}},"Sign Up")))))))}}]),a}(n.Component),L=Object(j.b)((function(e){return{User:e.Auth,Schedules:e.Schedules}}),{Login:q,Logout:T,ReloadSchedules:A})(z),M=a(132),V=a.n(M),F=a(203),D=a(388),G=a(397),K=Object(j.b)((function(e){return{User:e.Auth}}),{Login:q})((function(e){var t=Object(n.useState)({username:"",email:"",password:"",confirm:"",role:"",category:"",image:"",profile:""}),a=Object(i.a)(t,2),r=a[0],o=a[1],m=Object(n.useState)([]),d=Object(i.a)(m,2),p=d[0],h=d[1],g=Object(n.useState)(!1),f=Object(i.a)(g,2),v=f[0],b=f[1],y=Object(n.useState)(""),S=Object(i.a)(y,2),w=S[0],O=S[1],j=Object(n.useState)(!1),k=Object(i.a)(j,2),A=k[0],N=k[1];Object(n.useEffect)((function(){U.a.get("".concat(C,"/users/categories")).then((function(e){var t=e.data.map((function(e,t){return{key:t,name:e.name,value:e.name,text:e.name}}));h(t)}))}),[]);var R=function(e){o(Object(c.a)({},r,Object(u.a)({},e.target.name,e.target.value)))},q=function(){var t=Object(F.a)(V.a.mark((function t(){var a,n;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(N(!0),a={username:r.username,email:r.email,password:r.password,role:v?"trainer":"user",category:r.category,image:r.image,profile:r.profile},""!==r.username){t.next=6;break}O("username belum diisi"),t.next=45;break;case 6:if(""!==r.password){t.next=10;break}O("password belum diisi"),t.next=45;break;case 10:if(r.confirm===r.password){t.next=14;break}O("confirm password tidak sama"),t.next=45;break;case 14:if(!v){t.next=35;break}if(""!==r.category){t.next=19;break}O("category belum diisi"),t.next=33;break;case 19:if(""!==r.profile){t.next=23;break}O("profile harus diisi"),t.next=33;break;case 23:return t.prev=23,t.next=26,U.a.post("".concat(C,"/users/register"),a);case 26:(n=t.sent).data.status?(e.Login(a.username,a.password),console.log("register berhasil")):O(n.data.message),t.next=33;break;case 30:t.prev=30,t.t0=t.catch(23),console.log(t.t0);case 33:t.next=45;break;case 35:return t.prev=35,t.next=38,U.a.post("".concat(C,"/users/register"),a);case 38:(n=t.sent).data.status?e.Login(a.username,a.password):O(n.data.message),t.next=45;break;case 42:t.prev=42,t.t1=t.catch(35),console.log(t.t1);case 45:N(!1);case 46:case"end":return t.stop()}}),t,null,[[23,30],[35,42]])})));return function(){return t.apply(this,arguments)}}();return s.a.createElement("div",{style:{minHeight:"80vh",position:"relative"}},s.a.createElement(E.a,{style:{width:"300px",margin:"10vh auto"},className:"color-dark"},s.a.createElement(D.a,null,s.a.createElement(G.a,null,v?"Trainer Registration":"Register"),s.a.createElement(D.a.Field,null,s.a.createElement("label",null,"Username"),s.a.createElement("input",{placeholder:"username...",onChange:R,name:"username",value:r.username})),s.a.createElement(D.a.Field,null,s.a.createElement("label",null,"Email"),s.a.createElement("input",{placeholder:"email...",onChange:R,name:"email",value:r.email})),s.a.createElement(D.a.Field,null,s.a.createElement("label",null,"Password"),s.a.createElement("input",{placeholder:"password...",type:"password",onChange:R,name:"password",value:r.password})),s.a.createElement(D.a.Field,null,s.a.createElement("label",null,"Confirm password"),s.a.createElement("input",{placeholder:"password...",type:"password",onChange:R,onKeyPress:function(e){"Enter"===e.key&&q()},name:"confirm",value:r.confirm})),v?s.a.createElement(D.a.Field,null,s.a.createElement(D.a.Group,{widths:"equal"},s.a.createElement(D.a.Select,{fluid:!0,label:"Category",options:p,name:"category",onChange:function(e,t){var a=t.value;console.log(a),o(Object(c.a)({},r,{category:a}))},value:r.category,placeholder:"category"})),s.a.createElement(D.a.Field,null,s.a.createElement("label",null,"Profile image"),s.a.createElement("input",{placeholder:"profile image url",onChange:R,name:"image",value:r.image}),s.a.createElement("img",{style:{width:"100%",marginTop:"3px"},src:r.image})),s.a.createElement(D.a.TextArea,{label:"about",placeholder:"Tell the clients more about you...",onChange:R,name:"profile",value:r.profile})):null,v?null:s.a.createElement(x.a,{inverted:!0,color:"red",style:{width:"100%",marginBottom:".5em"},type:"reset",onClick:function(){b(!0)}},"To be a trainer"),s.a.createElement(x.a,{color:"red",style:{width:"100%"},type:"submit",onClick:q,disabled:A},v?"Submit and Start coaching":"Submit"),w?s.a.createElement("p",{style:{color:"red"}},w):null)),e.User.isLogin?s.a.createElement(l.a,{to:"/"}):null)})),B=a(47),P=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,message:"wait...",message_resend:"",isverified:!1},e.componentDidMount=function(){var t={tokenid:e.props.match.params.tokenid};U.a.put("".concat(C,"/users/verification"),t).then((function(t){if(console.log(t.data),t.data.status){var a=t.data.user,n=a.id,s=a.username;e.props.User.id===n?(e.keeplogin(),e.setState({message:"Hai ".concat(s,", your account is verified"),message_resend:"Please login to enter"})):(console.log("verification, logout new user"),e.props.Logout(),e.setState({message:"Hai ".concat(s,", your account is verified"),message_resend:"Please login to enter"}))}else console.log(t.data.message),e.props.User.isLogin?e.setState({message:t.data.message,message_resend:"Click here to resend email verification"}):e.setState({message:"Sign up to continue"})})).catch((function(e){console.log(e)})).finally((function(){console.log("finally"),e.setState({loading:!1})}))},e.keeplogin=function(){var t=localStorage.getItem("e-trainer_token");t&&U.a.get("".concat(C,"/users/keeplogin/").concat(t)).then((function(t){if(t.data.status){var a=t.data.user,n=a.id,s=a.username,r=a.email,o=a.role,i=a.isverified,l=a.token;console.log("verification, keeplogin"),e.props.KeepLogin(n,s,r,o,i,l)}else console.log("keeplogin tidak berhasil")})).catch((function(e){console.log(e)}))},e.onResendEmail=function(){e.setState({loading:!0});var t={id:e.props.User.id,username:e.props.User.username,email:e.props.User.email};U.a.post("".concat(C,"/users/verification"),t).then((function(t){e.setState({message_resend:"Email has been sent to your email",message:""})})).catch((function(t){console.log(t),e.setState({message_resend:"System error, please wait a moment and resend again",message:""})})).finally((function(){e.setState({loading:!1})}))},e}return Object(d.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{style:{minHeight:"90vh"}},s.a.createElement("div",{className:"bg-sign-dark",style:{textAlign:"center",padding:"10vh 0",marginBottom:"50vh"}},this.props.User.isverified?s.a.createElement(G.a,{as:"h2",content:"Welcome ".concat(this.props.User.username),inverted:!0,style:{fontSize:"1.7em",fontWeight:"normal",margin:"1em 0"}}):this.state.loading?null:s.a.createElement(G.a,{as:"h2",content:this.state.message,inverted:!0,style:{fontSize:"1.7em",fontWeight:"normal",margin:"1em 0"}}),this.props.User.isverified?s.a.createElement(G.a,{as:"h2",content:"Your account has been verified",inverted:!0,style:{fontSize:"1.7em",fontWeight:"normal",margin:"1em 0"}}):this.state.loading?s.a.createElement(G.a,{as:"h2",content:"wait...",inverted:!0,style:{fontSize:"1.7em",fontWeight:"normal",margin:"1em 0"}}):s.a.createElement(G.a,{as:"h2",content:this.state.message_resend,inverted:!0,style:{fontSize:"1.7em",fontWeight:"normal",margin:"1em 0"}}),this.props.User.isLogin?this.props.User.isverified?s.a.createElement(x.a,{as:O.b,to:"user"===this.props.User.role?"/sessions":"trainer"===this.props.User.role?"/requests":"admin"===this.props.User.role?"/manage":"/register",className:"bg-sign bg-sign-hvr",size:"huge",disabled:this.state.loading},"Get Started",s.a.createElement(B.a,{name:"right arrow"})):s.a.createElement(x.a,{className:"bg-sign bg-sign-hvr",size:"huge",onClick:this.onResendEmail,disabled:this.state.loading},"Resend Email",s.a.createElement(B.a,{name:"right arrow"})):null))}}]),a}(n.Component),H=Object(j.b)((function(e){return{User:e.Auth}}),{KeepLogin:I,Logout:T})(P),W=Object(j.b)((function(e){return{User:e.Auth}}),{Login:q})((function(e){var t=Object(n.useState)({oldpassword:"",newpassword:"",confirm:""}),a=Object(i.a)(t,2),r=a[0],o=a[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),p=d[0],h=d[1],g=Object(n.useState)(!1),f=Object(i.a)(g,2),v=f[0],b=f[1];Object(n.useEffect)((function(){}),[]);var y=function(e){o(Object(c.a)({},r,Object(u.a)({},e.target.name,e.target.value)))};return s.a.createElement("div",{style:{minHeight:"80vh",position:"relative"}},s.a.createElement(E.a,{style:{width:"300px",margin:"10vh auto"},className:"color-dark"},s.a.createElement(D.a,null,s.a.createElement(G.a,null,"Change Password"),s.a.createElement(D.a.Field,null,s.a.createElement("label",null,"Old password"),s.a.createElement("input",{placeholder:"old password...",type:"password",onChange:y,name:"oldpassword",value:r.oldpassword})),s.a.createElement(D.a.Field,null,s.a.createElement("label",null,"New password"),s.a.createElement("input",{placeholder:"new password...",type:"password",onChange:y,name:"newpassword",value:r.newpassword})),s.a.createElement(D.a.Field,null,s.a.createElement("label",null,"Confirm password"),s.a.createElement("input",{placeholder:"confirm password...",type:"password",onChange:y,name:"confirm",value:r.confirm})),s.a.createElement(x.a,{color:"red",style:{width:"100%"},type:"submit",onClick:function(){""===r.oldpassword?h("old password belum diisi"):""===r.newpassword?h("new password belum diisi"):r.confirm!==r.newpassword?h("confirm password tidak sama"):r.newpassword===r.oldpassword?h("new password tidak boleh sama dengan old password"):U.a.put("".concat(C,"/users/password/").concat(e.User.id),{password:r.newpassword}).then((function(e){h("succeed"),b(!0),o({oldpassword:"",newpassword:"",confirm:""})})).catch((function(e){console.log(e)}))}},"Submit"),p?s.a.createElement("p",{style:v?{color:"green"}:{color:"red"}},v?s.a.createElement("span",null,s.a.createElement(B.a,{name:"check"})," Succeed"):p):null)),e.User.isLogin?null:s.a.createElement(l.a,{to:"/"}))})),Y=a(398),J=a(207),X=a(387),Q=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(d.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"bg-sign-dark",style:{textAlign:"center",padding:"10vh 0"}},s.a.createElement(G.a,{as:"h1",content:"Shifu",inverted:!0,style:{fontSize:"4em",fontWeight:"normal",marginBottom:0}}),s.a.createElement(G.a,{as:"h2",content:"Easy way to find your coach",inverted:!0,style:{fontSize:"1.7em",fontWeight:"normal",marginTop:"1.5em"}}),s.a.createElement(x.a,{as:O.b,to:"user"===this.props.User.role?"/sessions":"trainer"===this.props.User.role?"/requests":"admin"===this.props.User.role?"/manage":"/register",className:"bg-sign bg-sign-hvr",size:"huge"},"Get Started",s.a.createElement(B.a,{name:"right arrow"}))),s.a.createElement(E.a,{style:{padding:"8em 0em"},vertical:!0},s.a.createElement(Y.a,{container:!0,stackable:!0,verticalAlign:"middle"},s.a.createElement(Y.a.Row,null,s.a.createElement(Y.a.Column,{width:8},s.a.createElement(G.a,{as:"h3",style:{fontSize:"2em"}},"About"),s.a.createElement("p",{style:{fontSize:"1.33em"}},"This is an app to help users to find trainers for their activities. It helps users and trainers to connect and have sessions together."),s.a.createElement(G.a,{as:"h3",style:{fontSize:"2em"}},"3 roles"),s.a.createElement("p",{style:{fontSize:"1.33em"}},"There are users and trainers who can use this app, but admin role will also help to solve problems should there be any")),s.a.createElement(Y.a.Column,{floated:"right",width:6},s.a.createElement(J.a,{bordered:!0,rounded:!0,size:"large",src:"https://as1.ftcdn.net/jpg/02/01/39/44/500_F_201394482_gzmyhIkrbP1dhCoUpbTHPtaVvNCaSz6y.jpg"}))),s.a.createElement(Y.a.Row,null,s.a.createElement(Y.a.Column,{textAlign:"center"},s.a.createElement(x.a,{disabled:!0,size:"huge"},"Check Them Out"))))),s.a.createElement(E.a,{style:{padding:"0em"},vertical:!0},s.a.createElement(Y.a,{celled:"internally",columns:"equal",stackable:!0},s.a.createElement(Y.a.Row,{textAlign:"center"},s.a.createElement(Y.a.Column,{style:{paddingBottom:"5em",paddingTop:"5em"}},s.a.createElement(G.a,{as:"h3",style:{fontSize:"2em"}},'"What a Company"'),s.a.createElement("p",{style:{fontSize:"1.33em"}},"That is what they all say about us")),s.a.createElement(Y.a.Column,{style:{paddingBottom:"5em",paddingTop:"5em"}},s.a.createElement(G.a,{as:"h3",style:{fontSize:"2em"}},'"I shouldn\'t have gone with their competitor."'),s.a.createElement("p",{style:{fontSize:"1.33em"}},s.a.createElement(J.a,{avatar:!0,src:"https://react.semantic-ui.com/images/avatar/small/jenny.jpg"}),s.a.createElement("b",null,"Nan")," Chief Fun Officer Acme Toys"))))),s.a.createElement(E.a,{style:{padding:"8em 0em"},vertical:!0},s.a.createElement(b.a,{text:!0},s.a.createElement(G.a,{as:"h3",style:{fontSize:"2em"}},"Breaking The Grid, Grabs Your Attention"),s.a.createElement("p",{style:{fontSize:"1.33em"}},"Instead of focusing on content creation and hard work, we have learned how to master the art of doing nothing by providing massive amounts of whitespace and generic content that can seem massive, monolithic and worth your attention."),s.a.createElement(x.a,{disabled:!0,as:"a",size:"large"},"Read More"),s.a.createElement(X.a,{as:"h4",className:"header",horizontal:!0,style:{margin:"3em 0em",textTransform:"uppercase"}},s.a.createElement("p",{disabled:!0,href:"#"},"Case Studies")),s.a.createElement(G.a,{as:"h3",style:{fontSize:"2em"}},"Did We Tell You About Our Bananas?"),s.a.createElement("p",{style:{fontSize:"1.33em"}},"Yes I know you probably disregarded the earlier boasts as non-sequitur filler content, but it's really true. It took years of gene splicing and combinatory DNA research, but our bananas can really dance."),s.a.createElement(x.a,{disabled:!0,as:"a",size:"large"},"I'm Still Quite Interested"))))}}]),a}(n.Component),Z=Object(j.b)((function(e){return{User:e.Auth}}))(Q),_=a(392),$=a(393),ee=a(394),te=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={step:1,disable:{step2:!0,step3:!0},categories:[],coaches:[],thecoach:{},requestmessage:"",submitloading:!1,category:""},e.searchCoaches=function(t){e.setState({category:t}),U.a.get("".concat(C,"/trainers/find?category=").concat(t)).then((function(t){e.setState({coaches:t.data})})).catch((function(e){console.log(e)}))},e.submitRequest=function(){e.setState({submitloading:!0});var t={status:"requested",category:e.state.thecoach.category,userId:e.props.User.id,trainerId:e.state.thecoach.id,requestMessage:e.state.requestmessage};console.log(t),U.a.post("".concat(C,"/schedules/create"),t).then((function(t){e.setState({step:4}),e.props.ReloadSchedules(e.props.User.role,e.props.User.id)})).catch((function(e){console.log(e)}))},e.renderCategories=function(){return e.state.categories.map((function(t,a){return s.a.createElement("li",{key:a,onClick:function(){e.searchCoaches(t.name),e.setState({step:2,disable:{step2:!1,step3:!0}})}},s.a.createElement("img",{src:t.image}),s.a.createElement("span",null,t.name))}))},e.renderCoaches=function(){return e.state.coaches.map((function(t,a){return s.a.createElement(_.a,{key:a,className:"session-card"},s.a.createElement(_.a.Content,{className:"session-card-img",style:{position:"relative",overflow:"hidden",flexBasis:"350px"}},s.a.createElement(J.a,{src:t.image,wrapped:!0,ui:!1,style:{maxHeight:"150px"}})),s.a.createElement(_.a.Content,{style:{padding:"1em 1em",flexBasis:"100px"}},s.a.createElement(_.a.Header,null,t.username),s.a.createElement(_.a.Meta,null,s.a.createElement("span",{className:"date"},"Joined in 2015")),s.a.createElement(_.a.Meta,{as:O.b,to:"/profile/".concat(t.id),className:"color-sign color-sign-hvr"},"see more",s.a.createElement(B.a,{name:"angle double right",style:{verticalAlign:"-1.5px"}})),s.a.createElement(_.a.Description,null,t.profile)),s.a.createElement(_.a.Meta,{style:{padding:"0em 1em 1em"}},s.a.createElement(x.a,{onClick:function(){e.setState({step:3,disable:{step2:!1,step3:!1},thecoach:t})},style:{marginTop:"7px"},className:"bg-sign bg-sign-hvr",fluid:!0},"Schedule a training with ",t.username)),s.a.createElement(_.a.Content,{style:{color:"rgba(0,0,0,.6)"},extra:!0},s.a.createElement("h4",null,t.category)))}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;U.a.get("".concat(C,"/users/categories")).then((function(t){e.setState({categories:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return"user"===this.props.User.role?s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(G.a,{as:"h1",content:1===this.state.step?"Pick your category":2===this.state.step?"Pick your coach":3===this.state.step?"Send your request":"Complete",style:{fontSize:"4em",fontWeight:"normal",margin:"10vh 0 6vh"}}),s.a.createElement($.a,{header:"Welcome user!",content:"Start by finding your coach",style:{width:"40vw",margin:"10vh auto"},floating:!0}),s.a.createElement(ee.a.Group,{className:4===this.state.step?"color-sign-dark gone":"color-sign-dark",style:{opacity:"1"}},s.a.createElement(ee.a,{onClick:function(){e.setState({step:1})},active:1===this.state.step},s.a.createElement(B.a,{name:"check square outline"}),s.a.createElement(ee.a.Content,null,s.a.createElement(ee.a.Title,null,"Category"),s.a.createElement(ee.a.Description,null,"Choose your category"))),s.a.createElement(ee.a,{onClick:function(){e.setState({step:2})},active:2===this.state.step,disabled:this.state.disable.step2},s.a.createElement(B.a,{name:"users"}),s.a.createElement(ee.a.Content,null,s.a.createElement(ee.a.Title,null,"Coaches"),s.a.createElement(ee.a.Description,null,"Pick your trainer"))),s.a.createElement(ee.a,{onClick:function(){e.setState({step:3})},active:3===this.state.step,disabled:this.state.disable.step3},s.a.createElement(B.a,{name:"envelope"}),s.a.createElement(ee.a.Content,null,s.a.createElement(ee.a.Title,null,"Make request")))),s.a.createElement("div",{style:{position:"relative",height:"auto",overflow:"hidden",minHeight:"1000px"}},s.a.createElement("div",{className:1===this.state.step?"session-step":"session-step previous"},s.a.createElement("ul",{className:"image-flex",style:{padding:"0"}},this.renderCategories(),s.a.createElement("li",{key:"all",style:{height:"200px"},onClick:function(){e.searchCoaches(),e.setState({step:2,disable:{step2:!1,step3:!0}})}},s.a.createElement("img",{src:"https://wallpapermemory.com/uploads/266/concert-wallpaper-hd-1680x1050-164893.jpg"}),s.a.createElement("span",null,"All Coaches")))),s.a.createElement("div",{className:1===this.state.step?"session-step-highest-el next":2===this.state.step?"session-step-highest-el":"session-step-highest-el previous",style:{minHeight:"80vh",display:"flex",flexWrap:"wrap"}},this.renderCoaches()),s.a.createElement("div",{className:1===this.state.step||2===this.state.step?"session-step next":3===this.state.step?"session-step":4===this.state.step?"session-step previous":null,style:{padding:"0 15vw"}},s.a.createElement(E.a,{placeholder:!0},s.a.createElement(Y.a,{columns:2,stackable:!0,textAlign:"left"},s.a.createElement(Y.a.Row,null,s.a.createElement(Y.a.Column,{width:6},s.a.createElement(_.a,null,s.a.createElement(J.a,{style:{overflow:"hidden",height:"unset"},src:this.state.thecoach.image,wrapped:!0,ui:!1}),s.a.createElement(_.a.Content,null,s.a.createElement(_.a.Header,null,this.state.thecoach.username),s.a.createElement(_.a.Meta,null,s.a.createElement("span",{className:"date"},this.state.thecoach.category," coach"))),s.a.createElement(_.a.Content,{extra:!0},s.a.createElement("h4",null,this.state.thecoach.category)))),s.a.createElement(Y.a.Column,{width:10},s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(D.a,{className:"session-textarea"},s.a.createElement(D.a.TextArea,{style:{maxWidth:"unset",width:"100%"},label:"Message",placeholder:"Message to trainer...",onChange:function(t){e.setState({requestmessage:t.target.value})},value:this.state.requestmessage}),s.a.createElement(D.a.Field,null,s.a.createElement(x.a,{disabled:this.state.submitloading,style:{width:"100%"},className:"bg-sign bg-sign-hvr",onClick:this.submitRequest},"Submit Request"))))))))),s.a.createElement("div",{className:1===this.state.step||2===this.state.step||3===this.state.step?"session-step next":4===this.state.step?"session-step":null,style:{padding:"0 15vw",fontSize:"24px",fontWeight:"100"}},s.a.createElement("div",{style:{marginBottom:"14px"}},s.a.createElement(B.a,{name:"checkmark"}),"Request has been submitted, wait for the trainer to respond"),s.a.createElement(x.a,{as:O.b,to:"/schedules",className:"oke"},"OK")))):s.a.createElement(l.a,{to:"/"})}}]),a}(n.Component),ae=Object(j.b)((function(e){return{User:e.Auth,Schedules:e.Schedules}}),{ReloadSchedules:A})(te),ne=a(386),se=Object(j.b)((function(e){return{User:e.Auth}}),{LoadSessionsToVerify:R})((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],o=a[1];return s.a.createElement(_.a.Meta,{style:{padding:"0"}},s.a.createElement("div",{className:e.confirm?"ui two buttons confirm-el":"ui two buttons confirm-el cover"},s.a.createElement(x.a,{className:"button-sign-sec",onClick:function(){var t,a;t=e.session.id,a=e.session.status,U.a.put("".concat(C,"/schedules/status/").concat(t),{laststatus:a,updatedby:"admin",status:"adminapproved"}).then((function(t){e.LoadSessionsToVerify(),e.reloadGrandParentSessions(),e.setindexconfirm(-1)})).catch((function(e){console.log(e)}))}},"Yes"),s.a.createElement(x.a,{className:"button-sign-third",onClick:function(){e.setindexconfirm(-1)}},"No")),s.a.createElement("div",{className:e.confirm?"ui two buttons approve-el cover":"ui two buttons approve-el"},0===e.session.id?null:s.a.createElement(x.a,{className:"button-sign-sec",onClick:function(){e.setindexconfirm(e.index),e.setindexcancel(-1)},disabled:"adminapproved"===e.session.status||"admincancelled"===e.session.status},"cancelled"===e.session.status?"Proceed payment":"Approve"),e.cancel?s.a.createElement(x.a,{className:"button-sign-third",onClick:function(){!function(t,a,n){U.a.put("".concat(C,"/schedules/status/").concat(t),{laststatus:n,updatedby:"admin",status:"admincancelled",reason:a}).then((function(t){e.LoadSessionsToVerify(),e.reloadGrandParentSessions(),e.setindexcancel(-1)})).catch((function(e){console.log(e)}))}(e.session.id,r,e.session.status)}},"Submit"):s.a.createElement(x.a,{className:"button-sign-third",onClick:function(){e.setindexcancel(e.index),e.setindexconfirm(-1),o("")},disabled:"adminapproved"===e.session.status||"admincancelled"===e.session.status},"cancelled"===e.session.status?"Cancel":"Decline")),s.a.createElement("div",{className:e.cancel?"cancel-el":"cancel-el cover",style:{margin:"0 0",textAlign:"left"}},s.a.createElement(D.a,{style:{marginTop:"1em"}},s.a.createElement("span",{className:"color-sign-dark"},"State your reason"),s.a.createElement(ne.a,{value:r,onChange:function(e){o(e.target.value)},placeholder:"Tell us more"}))))})),re=Object(j.b)((function(e){return{User:e.Auth}}),{ReloadSchedules:A})((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],o=a[1];return s.a.createElement(_.a.Meta,{style:{padding:"0"}},"requested"===e.session.status||"approved"===e.session.status||"onschedule"===e.session.status||"onprogress"===e.session.status||"finish"===e.session.status?s.a.createElement("div",null,s.a.createElement("div",{className:e.confirm?"ui two buttons confirm-el":"ui two buttons confirm-el cover"},s.a.createElement(x.a,{className:"button-sign-sec",onClick:function(){!function(t,a){var n;switch(a){case"finish":default:n="complete"}U.a.put("".concat(C,"/schedules/status/").concat(t),{laststatus:a,updatedby:"user",status:n}).then((function(t){e.ReloadSchedules(e.User.role,e.User.id),e.setindexconfirm(-1)})).catch((function(e){console.log(e)}))}(e.session.id,e.session.status)}},"Yes"),s.a.createElement(x.a,{className:"button-sign-third",onClick:function(){e.setindexconfirm(-1)}},"No")),s.a.createElement("div",{className:e.confirm?"ui two buttons approve-el cover":"ui two buttons approve-el"},"finish"===e.session.status?s.a.createElement(x.a,{className:"button-sign-sec",onClick:function(){e.setindexconfirm(e.index),e.setindexcancel(-1)},disabled:"adminapproved"===e.session.status||"admincancelled"===e.session.status},"Approve"):null,e.cancel?s.a.createElement(x.a,{className:"button-sign-third",onClick:function(){!function(t,a,n){U.a.put("".concat(C,"/schedules/status/").concat(t),{laststatus:n,updatedby:"user",status:"cancelled",reason:a}).then((function(t){e.ReloadSchedules(e.User.role,e.User.id),e.setindexcancel(-1)})).catch((function(e){console.log(e)}))}(e.session.id,r,e.session.status)}},"Submit"):s.a.createElement(x.a,{className:"button-sign-third",onClick:function(){e.setindexcancel(e.index),e.setindexconfirm(-1),o("")},disabled:"adminapproved"===e.session.status||"admincancelled"===e.session.status},"Cancel")),s.a.createElement("div",{className:e.cancel?"cancel-el":"cancel-el cover",style:{margin:"0 0",textAlign:"left"}},s.a.createElement(D.a,{style:{marginTop:"1em"}},s.a.createElement("span",{className:"color-sign-dark"},"State your reason"),s.a.createElement(ne.a,{value:r,onChange:function(e){o(e.target.value)},placeholder:"Tell us more"})))):null)})),oe=Object(j.b)((function(e){return{User:e.Auth}}),{ReloadSchedules:A,ReloadRequests:N})((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],o=a[1];return s.a.createElement(_.a.Meta,{style:{padding:"0"}},"requested"===e.session.status||"onschedule"===e.session.status||"approved"===e.session.status||"onprogress"===e.session.status?s.a.createElement("div",null,s.a.createElement("div",{className:e.confirm?"ui two buttons confirm-el":"ui two buttons confirm-el cover"},s.a.createElement(x.a,{className:"button-sign-sec",onClick:function(){!function(t,a){var n;switch(a){case"requested":n="onschedule";break;case"approved":case"onschedule":n="onprogress";break;case"onprogress":default:n="finish"}U.a.put("".concat(C,"/schedules/status/").concat(t),{laststatus:a,updatedby:"trainer",status:n}).then((function(t){e.ReloadSchedules(e.User.role,e.User.id),e.ReloadRequests(e.User.id),e.setindexconfirm(-1)})).catch((function(e){console.log(e)}))}(e.session.id,e.session.status)}},"Yes"),s.a.createElement(x.a,{className:"button-sign-third",onClick:function(){e.setindexconfirm(-1)}},"No")),s.a.createElement("div",{className:e.confirm?"ui two buttons approve-el cover":"ui two buttons approve-el"},"finish"!==e.session.status?s.a.createElement(x.a,{className:"button-sign-sec",onClick:function(){e.setindexconfirm(e.index),e.setindexcancel(-1)},disabled:"adminapproved"===e.session.status||"admincancelled"===e.session.status},"requested"===e.session.status?"Accept":"onschedule"===e.session.status||"approved"===e.session.status?"Start the session":"onprogress"===e.session.status?"Finish":"Approve"):null,e.cancel?s.a.createElement(x.a,{className:"button-sign-third",onClick:function(){!function(t,a,n){U.a.put("".concat(C,"/schedules/status/").concat(t),{laststatus:n,updatedby:"trainer",status:"cancelled",reason:a}).then((function(t){e.ReloadSchedules(e.User.role,e.User.id),e.ReloadRequests(e.User.id),e.setindexcancel(-1)})).catch((function(e){console.log(e)}))}(e.session.id,r,e.session.status)}},"Submit"):"requested"===e.session.status||"approved"===e.session.status||"onschedule"===e.session.status||"onprogress"===e.session.status?s.a.createElement(x.a,{className:"button-sign-third",onClick:function(){e.setindexcancel(e.index),e.setindexconfirm(-1),o("")},disabled:"adminapproved"===e.session.status||"admincancelled"===e.session.status},"Cancel"):null),s.a.createElement("div",{className:e.cancel?"cancel-el":"cancel-el cover",style:{margin:"0 0",textAlign:"left"}},s.a.createElement(D.a,{style:{marginTop:"1em"}},s.a.createElement("span",{className:"color-sign-dark"},"State your reason"),s.a.createElement(ne.a,{value:r,onChange:function(e){o(e.target.value)},placeholder:"Tell us more"})))):null)})),ie=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={indexconfirm:-1,indexcancel:-1,reason:""},e.setCardDescription=function(t){return"admin"===e.props.User.role?"requested"===t.status?"User has requested a schedule to the trainer":"approved"===t.status||"onschedule"===t.status?"Trainer has accepted and the schedule is on":"onprogress"===t.status?"The session is on going":"finish"===t.status?"Trainer has closed the session":"complete"===t.status?"User has attended the session":"cancelled"===t.status?"".concat(t.updatedby," cannot attend"):"adminapproved"===t.status?"Admin has approved the session":"admincancelled"===t.status?"Admin has cancelled the session":"You have no schedules":"user"===e.props.User.role?"requested"===t.status?"Wait for the trainer to respond":"approved"===t.status||"onschedule"===t.status?"Trainer has accepted and the schedule is on, please attend to the session on time":"onprogress"===t.status?"The session is on going":"finish"===t.status?"Trainer has closed the session":"complete"===t.status?"You have attended the session, and the payment will be charged from your account":"cancelled"===t.status?"".concat(t.updatedby," cannot attend the session"):"adminapproved"===t.status?"You have attended the session, and the payment will be charged from your account":"admincancelled"===t.status?"Admin has cancelled the session":"You have no schedules":"trainer"===e.props.User.role?"requested"===t.status&&t.clientname?"".concat(t.clientname," has requested a session with you"):"approved"===t.status?"You have accepted and the schedule is on":"onschedule"===t.status?"You have accepted and the schedule is on, please attend the session on time":"onprogress"===t.status?"The session is on going":"finish"===t.status?"You have closed the session":"complete"===t.status?"Client have attended the session":"cancelled"===t.status?"This session is cancelled because ".concat(t.updatedby," cannot attend the session"):"adminapproved"===t.status?"Admin have approved the session and the payment will be transfered to your account":"admincancelled"===t.status?"Admin has cancelled the session":"You have no schedules":void 0},e.renderCards=function(){if(0===e.props.sessions.length)var t=[{id:0}];else t=e.props.sessions;return t.map((function(t,a){return s.a.createElement(_.a,{key:a,style:{overflow:"hidden",animationDelay:"".concat(Math.random(),"s")},className:"onprogress"===t.status?"card-zoom":null},s.a.createElement(_.a.Content,null,s.a.createElement(J.a,{floated:"right",size:"tiny",src:"admin"!==e.props.User.role&&"user"!==e.props.User.role||!t.trainerimage?("admin"===e.props.User.role||"user"===e.props.User.role||e.props.User.role,"data:image/png;base64,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"):t.trainerimage}),s.a.createElement(_.a.Header,null,t.category," session"),s.a.createElement(_.a.Meta,null,"admin"!==e.props.User.role&&"user"!==e.props.User.role||!t.trainername?"trainer"===e.props.User.role?t.clientname:null:"Coach "+t.trainername),"admin"!==e.props.User.role&&"user"!==e.props.User.role||!t.trainerid?null:s.a.createElement(_.a.Meta,{as:O.b,to:"/profile/".concat(t.trainerid),className:"color-sign color-sign-hvr"},"see profile",s.a.createElement(B.a,{name:"angle double right",style:{verticalAlign:"-1px"}})),"admin"===e.props.User.role?s.a.createElement(_.a.Meta,{style:{marginTop:"1em"}},s.a.createElement("span",null,"with user ",s.a.createElement("span",{className:"color-sign-dark"},t.clientname))):null),s.a.createElement(_.a.Description,{style:{padding:"0em 1em 1em"}},s.a.createElement(_.a.Description,{style:{marginBottom:".5em"}},e.setCardDescription(t)),"cancelled"===t.status||"admincancelled"===t.status?s.a.createElement($.a,{compact:!0,style:{marginBottom:".5em",margin:"0 0 .5em",opacity:".7"}},t.reason?'Reason: "'.concat(t.reason,'"'):"Reason: ".concat(t.updatedby," said nothing")):null,"cancelled"===t.status&&"admin"===e.props.User.role?s.a.createElement(y.a,{basic:!0,style:{fontWeight:"100"}},"last status",s.a.createElement(y.a.Detail,null,t.laststatus)):null),t.status?s.a.createElement(_.a.Meta,{style:{padding:"0 1em"}},s.a.createElement(X.a,{clearing:!0,fitted:!0,horizontal:!0,style:{fontSize:"12px",letterSpacing:"5px"}},"Status")):null,s.a.createElement(_.a.Meta,{style:{padding:".75em 1.2em .75em 1em"}},s.a.createElement(G.a,{style:{color:"rgba(0,0,0,.6)",letterSpacing:"6px",margin:"0 0 .5em"},as:"h2",className:"onprogress"===t.status?"color-sign":null},t.status),"admin"===e.props.User.role?s.a.createElement(se,{session:t,index:a,confirm:a===e.state.indexconfirm,cancel:a===e.state.indexcancel,setindexconfirm:function(t){e.setState({indexconfirm:t})},setindexcancel:function(t){e.setState({indexcancel:t})},reloadGrandParentSessions:e.props.reloadParentSessions}):"user"===e.props.User.role?s.a.createElement(re,{session:t,index:a,confirm:a===e.state.indexconfirm,cancel:a===e.state.indexcancel,setindexconfirm:function(t){e.setState({indexconfirm:t})},setindexcancel:function(t){e.setState({indexcancel:t})},reloadGrandParentSessions:e.props.reloadParentSessions}):"trainer"===e.props.User.role?s.a.createElement(oe,{session:t,index:a,confirm:a===e.state.indexconfirm,cancel:a===e.state.indexcancel,setindexconfirm:function(t){e.setState({indexconfirm:t})},setindexcancel:function(t){e.setState({indexcancel:t})},reloadGrandParentSessions:e.props.reloadParentSessions}):null))}))},e}return Object(d.a)(a,[{key:"render",value:function(){return s.a.createElement(_.a.Group,{style:{padding:"0 0vw 10vh",textAlign:"center"}},this.renderCards())}}]),a}(n.Component),le=Object(j.b)((function(e){return{User:e.Auth}}),{LoadSessionsToVerify:R})(ie),ce=Object(j.b)((function(e){return{User:e.Auth,Schedules:e.Schedules}}),{ReloadRequests:N})((function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2);a[0],a[1];return Object(n.useEffect)((function(){e.ReloadRequests(e.User.id)}),[]),"trainer"===e.User.role?s.a.createElement("div",{className:"container-custom",style:{minHeight:"45vh"}},s.a.createElement(G.a,{as:"h1",content:"Requests for you",style:{fontSize:"4em",fontWeight:"normal",margin:"10vh 0 6vh"}}),s.a.createElement($.a,{content:"Here, requests from users. Trainer is required to respond whether to make the session or not",style:{width:"40vw",margin:"10vh auto",textAlign:"center"},floating:!0}),s.a.createElement(le,{sessions:e.Schedules.requests})):s.a.createElement(l.a,{to:"/"})})),ue=Object(j.b)((function(e){return{User:e.Auth,SchedulesList:e.Schedules}}),{ReloadSchedules:A})((function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),r=(a[0],a[1],Object(n.useState)(-1)),o=Object(i.a)(r,2),c=(o[0],o[1],Object(n.useState)(-1)),u=Object(i.a)(c,2);u[0],u[1];Object(n.useEffect)((function(){e.ReloadSchedules(e.User.role,e.User.id)}),[]);return"user"===e.User.role||"trainer"===e.User.role?s.a.createElement("div",{className:"container-custom",style:{minHeight:"45vh",textAlign:"center"}},s.a.createElement(G.a,{as:"h1",content:"Your schedules",style:{fontSize:"4em",fontWeight:"normal",margin:"10vh 0 6vh"}}),s.a.createElement($.a,{content:"All schedules that has been set up for you. User and trainer are required to prepare for the sessions",style:{width:"40vw",margin:"10vh auto"},floating:!0}),s.a.createElement(le,{sessions:e.SchedulesList.data})):s.a.createElement(l.a,{to:"/"})})),me=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={indexcancel:-1,indexconfirm:-1},e.componentDidMount=function(){},e}return Object(d.a)(a,[{key:"render",value:function(){return"admin"===this.props.User.role?s.a.createElement("div",{className:"container-custom",style:{textAlign:"center"}},s.a.createElement(G.a,{as:"h1",content:"Manage sessions",style:{fontSize:"4em",fontWeight:"normal",margin:"10vh 0 6vh"}}),s.a.createElement($.a,{header:"Here, Admin will verify which session to be approved or not",style:{width:"40vw",margin:"10vh auto",textAlign:"center"},list:["1. Approve after the status is complete","2. If the status is cancelled, analyse and decide to approve or cancel the session"," Approve means the user will be charged and the payment will be transfered to the trainer"],floating:!0}),s.a.createElement(le,{sessions:this.props.SessionsAdminToDo.data,reloadParentSessions:function(){console.log("tes")},test:this.nothing})):s.a.createElement(l.a,{to:"/"})}}]),a}(n.Component),de=Object(j.b)((function(e){return{User:e.Auth,SessionsAdminToDo:e.Schedules}}))(me),pe=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={allSessions:[],indexcancel:-1,indexconfirm:-1},e.componentDidMount=function(){e.reloadSessions()},e.reloadSessions=function(){U.a.get("".concat(C,"/schedules/card")).then((function(t){e.setState({allSessions:t.data.reverse(),indexcancel:-1,indexconfirm:-1,reason:""})})).catch((function(e){console.log(e)}))},e}return Object(d.a)(a,[{key:"render",value:function(){return"admin"===this.props.User.role?s.a.createElement("div",{className:"container-custom",style:{textAlign:"center"}},s.a.createElement(G.a,{as:"h1",content:"Manage sessions",style:{fontSize:"4em",fontWeight:"normal",margin:"10vh 0 6vh"}}),s.a.createElement($.a,{content:"Here, Admin is able to edit the status reports, in case changes need to be made. ",style:{width:"40vw",margin:"10vh auto",textAlign:"center"},floating:!0}),s.a.createElement(le,{sessions:this.state.allSessions,reloadParentSessions:this.reloadSessions})):s.a.createElement(l.a,{to:"/"})}}]),a}(n.Component),he=Object(j.b)((function(e){return{User:e.Auth}}))(pe),ge=a(389),fe=Object(j.b)((function(e){return{User:e.Auth,SchedulesList:e.Schedules}}),{ReloadSchedules:A})((function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){"user"===e.User.role?U.a.get("".concat(C,"/schedules/card?userid=").concat(e.User.id,"&status=finish&status=complete&status=cancelled&status=adminapproved&status=admincancelled")).then((function(e){o(e.data.reverse())})).catch((function(e){console.log(e)})):"trainer"===e.User.role&&U.a.get("".concat(C,"/schedules/card?trainerid=").concat(e.User.id,"&status=finish&status=complete&status=cancelled&status=adminapproved&status=admincancelled")).then((function(e){console.log(e.data.reverse()),o(e.data)})).catch((function(e){console.log(e)}))}),[]);return e.User.isLogin?s.a.createElement("div",{className:"container-custom",style:{minHeight:"45vh"}},s.a.createElement(G.a,{as:"h1",content:"Your past activities",style:{fontSize:"4em",fontWeight:"normal",margin:"10vh 0 6vh"}}),s.a.createElement($.a,{content:"All sessions that you have done in the past",style:{width:"40vw",margin:"10vh auto",textAlign:"center"},floating:!0}),s.a.createElement(le,{sessions:r})):s.a.createElement(l.a,{to:"/"})})),Ee=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={profiledata:{},requestmessage:"",step:1},e.componentDidMount=function(){U.a.get("".concat(C,"/trainers/get/").concat(e.props.match.params.trainerid)).then((function(t){e.setState({profiledata:t.data})})).catch((function(e){console.log(e)}))},e.submitRequest=function(){var t={status:"requested",category:e.state.profiledata.category,userId:e.props.User.id,trainerId:e.props.match.params.trainerid,requestMessage:e.state.requestmessage};U.a.post("".concat(C,"/schedules/create"),t).then((function(t){e.setState({step:3}),e.props.ReloadSchedules(e.props.User.role,e.props.User.id)})).catch((function(e){console.log(e)}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{style:{padding:"70px 20vw"}},s.a.createElement(ge.a.Group,null,s.a.createElement(ge.a,null,s.a.createElement(ge.a.Image,{size:"large",src:this.state.profiledata.image}),s.a.createElement(ge.a.Content,{style:{fontSize:"120%"}},s.a.createElement(ge.a.Header,{as:"h3"},this.state.profiledata.username),s.a.createElement(ge.a.Meta,null,this.state.profiledata.category),s.a.createElement(ge.a.Description,{style:{fontSize:"15px"}},this.state.profiledata.profile),s.a.createElement(ge.a.Extra,null,"Additional Details"),"user"===this.props.User.role?s.a.createElement(D.a,{className:"session-textarea",style:{margin:"2em 0",position:"relative",overflow:"hidden"}},s.a.createElement("div",{className:1===this.state.step?"session-step":(2===this.state.step||this.state.step,"session-step previous")},s.a.createElement(x.a,{disabled:this.state.submitloading,style:{width:"100%"},className:"bg-sign bg-sign-hvr",onClick:function(){e.setState({step:2})}},"Send Request")),s.a.createElement("div",{className:1===this.state.step?"session-step-highest-el next":2===this.state.step?"session-step-highest-el":(this.state.step,"session-step-highest-el previous"),style:{padding:"0"}},s.a.createElement(D.a.TextArea,{style:{maxWidth:"unset",width:"100%"},label:"Message",placeholder:"Message to trainer...",onChange:function(t){e.setState({requestmessage:t.target.value})},value:this.state.requestmessage}),s.a.createElement(D.a.Field,null,s.a.createElement(x.a,{disabled:this.state.submitloading,style:{width:"100%"},className:"bg-sign bg-sign-hvr",onClick:this.submitRequest},"Submit Request"))),s.a.createElement("div",{style:{textAlign:"center"},className:1===this.state.step||2===this.state.step?"session-step next":3===this.state.step?"session-step":"session-step previous"},s.a.createElement("div",{style:{marginBottom:"14px"}},s.a.createElement(B.a,{className:"color-sign",name:"checkmark"}),"Request has been submitted, wait for the trainer to respond"),s.a.createElement(x.a,{as:O.b,to:"/schedules",basic:!0,color:"red"},"OK"))):null))))}}]),a}(n.Component),ve=Object(j.b)((function(e){return{User:e.Auth}}),{ReloadSchedules:A})(Ee),be=a(391),ye=function(){Object(l.g)();return s.a.createElement(E.a,{inverted:!0,vertical:!0,style:Object(l.g)().pathname.includes("verification")?{display:"none"}:{padding:"5em 0em",marginTop:"5vh"}},s.a.createElement(b.a,null,s.a.createElement(Y.a,{divided:!0,inverted:!0,stackable:!0},s.a.createElement(Y.a.Row,null,s.a.createElement(Y.a.Column,{width:3},s.a.createElement(G.a,{inverted:!0,as:"h4",content:"About"}),s.a.createElement(be.a,{link:!0,inverted:!0},s.a.createElement(be.a.Item,{as:"a"},"Sitemap"),s.a.createElement(be.a.Item,{as:"a"},"Contact Us"),s.a.createElement(be.a.Item,{as:"a"},"Religious Ceremonies"),s.a.createElement(be.a.Item,{as:"a"},"Gazebo Plans"))),s.a.createElement(Y.a.Column,{width:3},s.a.createElement(G.a,{inverted:!0,as:"h4",content:"Services"}),s.a.createElement(be.a,{link:!0,inverted:!0},s.a.createElement(be.a.Item,{as:"a"},"Banana Pre-Order"),s.a.createElement(be.a.Item,{as:"a"},"DNA FAQ"),s.a.createElement(be.a.Item,{as:"a"},"How To Access"),s.a.createElement(be.a.Item,{as:"a"},"Favorite X-Men"))),s.a.createElement(Y.a.Column,{width:7},s.a.createElement(G.a,{as:"h4",inverted:!0},"Footer Header"),s.a.createElement("p",null,"Extra space for a call to action inside the footer that could help re-engage users."))))))};var Se=Object(j.b)((function(e){return{User:e.Auth}}),{KeepLogin:I,ReloadSchedules:A,ReloadRequests:N,LoadSessionsToVerify:R})((function(e){var t=Object(n.useState)(!0),a=Object(i.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){var t=localStorage.getItem("e-trainer_token");if(t){var a={headers:{Authorization:"Bearer ".concat(t)}};console.log("keeplogin"),U.a.get("".concat(C,"/users/keeplogin"),a).then((function(t){if(t.data.status){var a=t.data.user,n=a.id,s=a.username,r=a.email,o=a.role,i=a.isverified,l=a.token;e.KeepLogin(n,s,r,o,i,l),"user"===o||"trainer"===o?(e.ReloadSchedules(o,n),"trainer"===o&&e.ReloadRequests(n)):"admin"===o&&e.LoadSessionsToVerify()}else console.log("keeplogin tidak berhasil")})).catch((function(e){console.log(e)})).finally((function(){o(!1)}))}else o(!1)}),[]),s.a.createElement("div",null,s.a.createElement(L,null),r?s.a.createElement("div",{style:{minHeight:"45vh",transition:"all .5s ease"}},"Loading..."):s.a.createElement("div",{style:{minHeight:"45vh",transition:"all .5s ease"}},s.a.createElement(l.d,null,s.a.createElement(l.b,{path:"/",exact:!0,component:Z}),s.a.createElement(l.b,{path:"/register",exact:!0,component:K}),s.a.createElement(l.b,{path:"/verification/:tokenid",exact:!0,component:H}),s.a.createElement(l.b,{path:"/verification*",component:H}),e.User.isverified?s.a.createElement(n.Fragment,null,s.a.createElement(l.b,{path:"/manageall",exact:!0,component:he}),s.a.createElement(l.b,{path:"/manage",exact:!0,component:de}),s.a.createElement(l.b,{path:"/requests",exact:!0,component:ce}),s.a.createElement(l.b,{path:"/schedules",exact:!0,component:ue}),s.a.createElement(l.b,{path:"/history",exact:!0,component:fe}),s.a.createElement(l.b,{path:"/sessions",exact:!0,component:ae}),s.a.createElement(l.b,{path:"/profile/:trainerid",exact:!0,component:ve}),s.a.createElement(l.b,{path:"/settings",exact:!0,component:W})):e.User.isLogin?s.a.createElement(n.Fragment,null,s.a.createElement(l.b,{path:"/*",exact:!0,component:H})):s.a.createElement(l.b,{path:"/*",component:Z}))),s.a.createElement(ye,null))})),we={id:"",username:"",email:"",role:"",isverified:!1,loading:!1,isLogin:!1,message:""},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FAIL":return Object(c.a)({},e,{message:t.payload,loading:!1});case"LOADING":return Object(c.a)({},e,{loading:!0});case"LOGIN_SUCCESS":return Object(c.a)({},e,{},t.payload,{isLogin:!0,loading:!1,message:""});case"LOGOUT":return we;default:return e}},Oe={data:[],count:0,requests:[],countrequest:0},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RELOAD":return Object(c.a)({},e,{data:t.payload,count:t.payload.length});case"REQUEST":return Object(c.a)({},e,{requests:t.payload,countrequest:t.payload.length});case"TOVERIFY":return Object(c.a)({},e,{},t.payload);default:return e}},ke=a(60),Ue=Object(ke.c)({Auth:xe,Schedules:je}),Ce=a(206);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ae=Object(ke.d)(Ue,Object(ke.a)(Ce.a));o.a.render(s.a.createElement(j.a,{store:Ae},s.a.createElement(O.a,null,s.a.createElement(Se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[217,1,2]]]);
//# sourceMappingURL=main.efa9bc21.chunk.js.map